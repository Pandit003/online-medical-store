<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Detail</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" 
  integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    body{
      padding: 2% 7%;
    }
    .product-image-container-large {
      width: 100%;
      max-width: 300px;
      margin: 0 auto;
    }
    .product-detail-container {
      margin-bottom: 20px;
    }
    .customfooter {
      background-color: #f8f9fa;
      padding: 20px;
    }
    .availability {
      font-size: 14px;
    }
    .btn-block{
      background-color: red;
      color: white;
      font-weight: 700;
    }

    .scrolling-wrapper {
      display: flex;
      flex-wrap: nowrap;
      overflow-x: auto;
      padding: 10px;
      -webkit-overflow-scrolling: touch; 
      scrollbar-width: none;
      position: relative;
  }
  .scrolling-wrapper::-webkit-scrollbar {
      display: none;
  }
  .product-card {
      border-radius: 15px;
      width: 220px; 
      overflow: hidden;
      margin-right: 10px; 
      flex: 0 0 auto; 
  }
  .custom-fadeIn-image {
      padding: 10px;
  }
  .btn-add-to-cart {
      color: white;
      background-color: #007bff;
  }
  .arrow-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  color: black;
  font-size: 24px;
  cursor: pointer;
  z-index: 1;
  border-radius: 30%;
  background-color: transparent;
    }
    .arrow-btn:hover{
      border-color: #007bff;
    }

        .arrow-btn.left {
            left: 0;
        }

        .arrow-btn.right {
            right: 0;
        }

        .scrolling-container {
    position: relative;
    overflow: hidden; /* Ensure buttons are not visible outside the container */
}
.practices-div-container{
        padding: 5% 0;
        }
        .footer {
            background-color: #f8f9fa;
            padding-top: 5%;
        }

        .social-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #a8a8a8;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
        }

        .social-icon img {
            width: 20px;
            height: 20px;
        }

        .fb:hover {
            background-color: #1a4c98;
        }

        .yt:hover {
            background-color: #ff0000;
        }

        .tw:hover {
            background-color: black;
        }

        .li:hover {
            background-color: #2e7dae;
        }
        .button-wrapper {
          margin-top: -60px; 
        }
  </style>
</head>

<body>
  <div class="container mt-5">
    <div class="row">
      <div class="col-md-4">
        <div class="">
          <div class="product-image-container-large text-center">
            <img src="<%=data[0].image%>" class="img-fluid">
          </div>
        </div>
      </div>
      <div class="col-md-8">
        <section class="p-3 Product-Section mb-4 ml-3">
          <div>
            <div class="Product-Detail">
              <div class="product-detail-instructions row no-gutters">
                <div class="product-detail-description col-12">
                  <div class="mb-3">
                    <a class="small composition-title composition-underline" title="More Products From WOCKHARDT LTD">Mfg/Mkt: <%=data[0].brand.name%></a>
                    <h4 class="text-uppercase mt-0 composition-country"><%=data[0].name%></h4>
                  </div>
                  <div class="mb-3">
                    <p class="composition-country font-weight-bold">Composition</p>
                    <div class="font-14 mb-3 composition-underline">
                      <p class="composition-title"><%=data[0].activeIngredient%></p>
                    </div>
                    <p class="composition-country font-weight-bold">Description</p>
                    <div class="composition-underline font-14">
                      <p class="composition-title"><%-data[0].description%> </p>
                    </div>
                  </div>
                  <p class="composition-country font-14 font-weight-bold mb-0">Country of origin: INDIA</p>
                  <p class="font-weight-bold mb-0 mt-1">
                    <button class="btn btn-link font-14 composition-country text-decoration-none">Seller Information<svg class="ml-1" xmlns="http://www.w3.org/2000/svg" width="16" height="8" viewBox="0 0 16 8"><path fill="#2699fb" d="M4.52,14.5A2.482,2.482,0,0,1,7,12.02h3.2V10.5H7a4,4,0,1,0,0,8h3.2V16.98H7A2.482,2.482,0,0,1,4.52,14.5Zm3.28.8h6.4V13.7H7.8ZM15,10.5H11.8v1.52H15a2.48,2.48,0,0,1,0,4.96H11.8V18.5H15a4,4,0,0,0,0-8Z" transform="translate(-3 -10.5)"></path></svg></button>
                  </p>
                </div>
                <div class="product-detail-checkout col-12 p-0">
                    <div class="text-left my-3">
                        <h4 class="mb-0">MRP<small class="rupee ml-1">₹ </small><span style="text-decoration: line-through;"><%=data[0].offers.price%></span><span>   <%= parseFloat(data[0].offers.price-(data[0].offers.price * data[0].offers.offerCount/100).toFixed(2)) %></span></h4>
                        <div><span class="inclusive text-secondary text-left d-block">Inclusive of all Taxes</span></div>
                    </div>                    
                  <div class=" row">
                    <p class="mb-0 font-weight-bolder col-md-6">FLAT <%=data[0].offers.offerCount%>% OFF<small class="d-block">On bills above <span class="rupee">₹</span> <%=data[0].offers.price * data[0].offers.offerCount/100%> </small></p>
                    <div class="w-50 mt-3 col-md-6" style="margin: auto;">
                      <form action="/cart" method="post">
                        <input type="hidden" name="productData" value='<%- JSON.stringify(data[0]).replace(/'/g, " ")%>'>
                        <input type="hidden" name="productcatagory" value='<%=productcall%>'>
                        <div class="button-wrapper">
                        <button role="button" type="submit" class="btn btn-block btn-brand-gradient rounded-pill custom-btn-xl shadow">Add to Cart</button>
                        <button role="button" type="button" class="btn btn-block btn-brand-gradient rounded-pill custom-btn-xl shadow mt-3" onclick="showaleart()">Buy now</button>
                          </div>
                      </form>
                    </div>
                  </div>
                  
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

  <div class="scrolling-container">
    <button class="arrow-btn left"><i class="fa-solid fa-angle-left"></i></button>
    <div class="scrolling-wrapper" id="productWrapper">
        <!-- Product cards will be dynamically added here -->
    </div>
    <button class="arrow-btn right"><i class="fa-solid fa-angle-right"></i></button>
</div>
<div class="practices-div-container" style="background-image: url(https://static2.medplusmart.com/live/webpwa/assets/services-we-offer-bg.dc86d537b43c1cada7fd.png);">
    <h6 class="mb-4 h5">Why Our Medical Store</h6>
    <div class="container-fluid">
        <div class="row pt-2">
            <div class="col-xl-3 col-xs-6 col-md-6 col-lg-6"><span class="img-container"><img class="img-fluid"
                        src="https://static2.medplusmart.com/live/webpwa/assets/safe-and-secure.f87b9b29b201af66ef89.svg"
                        alt="Maximize your savings" title="Maximize your savings" role="img"></span>
                <h6 class="mb-3">100% Safe &amp; Secure</h6>
                <p class="mb-0">We take all safety and hygiene measures to keep our customers safe.</p>
            </div>
            <div class="col-xl-3 col-xs-6 col-md-6 col-lg-6"><span class="img-container"><img class="img-fluid"
                        src="https://static2.medplusmart.com/live/webpwa/assets/online-reports.03fb335de31455e84d8f.svg"
                        alt="Click and Pick" title="Click and Pick" role="img"></span>
                <h6 class="mb-3">Click and Pick</h6>
                <p class="mb-0">Click to buy a range of products across categories</p>
            </div>
            <div class="col-xl-3 col-xs-6 col-md-6 col-lg-6"><span class="img-container"><img class="img-fluid"
                        src="https://static2.medplusmart.com/live/webpwa/assets/home-sample-collection.513fdc0331c1185aa035.svg"
                        alt="Home Sample Collection" title="Home Sample Collection" role="img"></span>
                <h6 class="mb-3">Home Delivery</h6>
                <p class="mb-0">We offer convenient home delivery of medicines &amp; general goods</p>
            </div>
            <div class="col-xl-3 col-xs-6 col-md-6 col-lg-6"><span class="img-container"><img class="img-fluid"
                        src="https://static2.medplusmart.com/live/webpwa/assets/compititive-prices.0424e317d16b7148a34b.svg"
                        alt="Competitive Prices" title="Competitive Prices" role="img"></span>
                <h6 class="mb-3">Unlimited Health Records</h6>
                <p class="mb-0">Save all your health records (Medical Records...)</p>
            </div>
        </div>
    </div>
</div>

<footer class="footer">
  <div class="row footer-img">
      <div class="col-7 ">
          <div class="row p-0">
              <div class="col-md-4">
                  <h5>Partners</h5>
                  <img src="https://static2.medplusmart.com/live/webpwa/assets/MedPlusLens_icon.91aa49b753431fd536f8.svg"
                      alt="MedPlus Lens Logo" class="img-fluid">
              </div>
              <div class="col">
                <h5>Follow us</h5>
                <a href="https://www.facebook.com/Rohitpandit12345/"><div class="fb social-icon">
                    <i class="fa-brands fa-facebook-f" style="color: #ffffff;"></i>
                </div></a>
                <a href="mailto:someone@example.com" id="email-icon"><div class="yt social-icon">
                  <i class="fa-solid fa-envelope" style="color: #ffffff;"></i>
                </div></a>
                <a href="whatsapp://send?phone=+91 8144542955"><div class="tw social-icon">
                  <i class="fa-solid fa-phone" style="color: #ffffff;"></i>
                </div></a>
                <a href="https://in.linkedin.com/in/pardoom-pandit-5ba88b261 "><div class="li social-icon">
                  <i class="fa-brands fa-linkedin-in" style="color: #ffffff;"></i>
                </div></a>
            </div>
              <p class="m-3 pt-3 border-top w-100">© 2022 MedPlusMart.com. All rights reserved.</p>
          </div>
      </div>
      <div class="col"><img alt="footer-img" class="img-fluid"
              src="https://static2.medplusmart.com/live/webpwa/assets/footer-img.f5bf66830dce7664349e.svg">
      </div>
  </div>
</footer>
    <script>   
    function showaleart(){
      alert("Working on this feature");
    }
        const medurl='https://online-medical-store.onrender.com/medicine?medtype=<%=productcall%>&sortBy=ztoa&search=';
        fetch(medurl).then(response=>{
            console.log(response);
              if (!response.ok) {
                  console.error('Response was not ok:', response.status, response.statusText);
                  throw new Error('Network response was not ok');
              }
              return response.json();
        }).then(data=>{
              generateProductCards(data);
        }).catch(error=>{
          console.error('There was a problem with the fetch operation:', error);
        });

    const productWrapper = document.getElementById('productWrapper');
    const scrollAmount = 220; 

    function generateProductCards(products) {
        products.forEach(product => {
            const card = document.createElement('div');
            card.classList.add('card', 'mx-2', 'mb-2', 'product-card', 'position-relative');
            card.innerHTML = `
                <div class="card-body p-0">
                    <a class="text-decoration-none" href="/<%=productcall%>?id=${product.productID}">
                        <div class="px-2 pointer">
                            <div class="text-center mb-2">
                                <div class="fadeIn custom-fadeIn-image">
                                    <img class="d-inline-block" src="${product.image}" alt="${product.name}">
                                </div>
                            </div>
                            <div style="margin-left:10px; border-top: 2px gray solid;">
                                <p class="font-12 text-secondary mb-1 text-truncate">${product.brand.name}</p>
                            </div>
                            <div class="d-flex flex-column justify-content-between" style="margin-left:10px;">
                                <h6 class="truncate-line-2" style="min-height: 2.375rem;" title="${product.name}">${product.name}</h6>
                                <div>
                                    <div style="color: black;">
                                        <h6 class="mb-0">MRP <strong class="rupee">₹</strong>${product.offers.price}</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="card-footer bg-white p-2 border-0">
                  <form action="/cart" method="post">
                    <input type="hidden" name="productData" value='${JSON.stringify(product).replace(/'/g, " ")}'>
                    <input type="hidden" name="productcatagory" value='<%=productcall%>'>
                    <button role="button" type="submit" class="btn-add-to-cart btn btn-block btn-brand-gradient rounded-pill custom-btn-lg">Add to Cart</button>
                    </form>
                </div>
            `;
            productWrapper.appendChild(card);
        });
    }
    // Call the function to generate product cards
    // generateProductCards();

    // Scroll functionality
    document.querySelector('.arrow-btn.left').addEventListener('click', () => {
        productWrapper.scrollBy({
            left: -scrollAmount,
            behavior: 'smooth'
        });
    });

    document.querySelector('.arrow-btn.right').addEventListener('click', () => {
        productWrapper.scrollBy({
            left: scrollAmount,
            behavior: 'smooth'
        });
    });

    </script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>

</html>